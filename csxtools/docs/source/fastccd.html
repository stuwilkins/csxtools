<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FastCCD Routines &mdash; csxtools 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="csxtools 0.1.0 documentation" href="../../../index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">
  
  <a href="https://github.com/NSLS-II-CSX/csxtools"
     class="visible-desktop hidden-xs"><img
    id="gh-banner"
    style="position: absolute; top: 50px; right: 0; border: 0;"
    src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"
    alt="Fork me on GitHub"></a>
  <script>
    // Adjust banner height.
    $(function () {
      var navHeight = $(".navbar .container").css("height");
      $("#gh-banner").css("top", navHeight);
    });
  </script>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">csxtools 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="fastccd-routines">
<h1>FastCCD Routines<a class="headerlink" href="#fastccd-routines" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-csxtools.fastccd">
<span id="api-reference"></span><h2>API Reference<a class="headerlink" href="#module-csxtools.fastccd" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="csxtools.fastccd.correct_images">
<code class="descclassname">csxtools.fastccd.</code><code class="descname">correct_images</code><span class="sig-paren">(</span><em>images</em>, <em>dark=None</em>, <em>flat=None</em>, <em>gain=(1</em>, <em>4</em>, <em>8)</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/csxtools/fastccd/images.html#correct_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#csxtools.fastccd.correct_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtract backgrond and gain correct images</p>
<p>This routine subtrtacts the backgrond and corrects the images
for the multigain FastCCD ADC.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>in</strong> (<em>array_like</em>) &#8211; Input array of images to correct of shape (N, y, x)  where N is the
number of images and x and y are the image size.</li>
<li><strong>dark</strong> (<em>array_like, optional</em>) &#8211; Input array of dark images. This should be of shape (3, y, x).
dark[0] is the gain 8 (most sensitive setting) dark image with
dark[2] being the gain 1 (least sensitive) dark image.</li>
<li><strong>flat</strong> (<em>array_like, optional</em>) &#8211; Input array for the flatfield correction. This should be of shape
(y, x)</li>
<li><strong>gain</strong> (<em>tuple, optional</em>) &#8211; These are the gain multiplication factors for the three different
gain settings</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Array of corrected images of shape (N, y, x)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array_like</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="csxtools.fastccd.photon_count">
<code class="descclassname">csxtools.fastccd.</code><code class="descname">photon_count</code><span class="sig-paren">(</span><em>data</em>, <em>thresh</em>, <em>nsum=3</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/csxtools/fastccd/phocount.html#photon_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#csxtools.fastccd.photon_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Do single photon counting on CCD image</p>
<p>This routine does single photon counting by cluster analysis. The image
is searched for bright pixels within a threshold and then the energy
deposited by each photon is calculated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array_like</em>) &#8211; Stack of CCD images. This array should be of shape (N, y, x) where
N is the number of images</li>
<li><strong>thresh</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#tuple" title="(in Python v2.7)"><em>tuple</em></a>) &#8211; Threshold to use for identifying photons. This should be a tuple of
(min, max)</li>
<li><strong>nsum</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The number of pixels to use to calculate the energy deposited by the
photon. This should be 0 &lt; nsum &lt;= 9.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Two arrays are returned. The first is an array of size (N, y, x)
where the elements are the integrated energy calculated for each
photon hit. The second array is the standard deviation for the
integrated intensity on each photon hit.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/functions.html#tuple" title="(in Python v2.7)">tuple</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">FastCCD Routines</a><ul>
<li><a class="reference internal" href="#module-csxtools.fastccd">API Reference</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/csxtools/docs/source/fastccd.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Brookhaven Science Associates, Brookhaven National Laboratory.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.3</a>
      
      |
      <a href="../../../_sources/csxtools/docs/source/fastccd.txt"
          rel="nofollow">Page source</a></li>
    </div>

    

    
  </body>
</html>